function renderizar(lista){
    const grid = document.getElementById("grid");
    grid.innerHTML = "";

    lista.forEach(p => {
        const codigo       = p["Codigo"] || "";
        const nombreCorto  = p["Nombre Corto"] || "";
        const descripcionL = p["DescripciÃ³n Larga"] || "";
        const categoria    = p["Categoria Princ"] || "";
        const precioMayor  = parsearPrecio(p["Precio Mayorista"]);
        const precioCliente= parsearPrecio(p["Precio Cliente"]);
        const precioUsado  = precioMayor ?? precioCliente;

        // DescripciÃ³n corta recortada
        let descCorta = descripcionL.trim();
        if (descCorta.length > 80) descCorta = descCorta.substring(0, 80) + "...";

        // URLs de imagen
        const urlLower = `${BASE_IMG}/${codigo}.jpg`;
        const urlUpper = `${BASE_IMG}/${codigo}.JPG`;

        // ðŸ‘‰ AHORA LA TARJETA ES UN <a> CLICKEABLE
        const card = document.createElement("a");
        card.className = "card";
        card.href = `producto.html?codigo=${encodeURIComponent(codigo)}`;
        card.style.textDecoration = "none";
        card.style.color = "inherit";

        const contImg = document.createElement("div");

        const img = document.createElement("img");
        img.alt = `${codigo} - ${nombreCorto}`;
        img.src = urlLower;

        const placeholder = document.createElement("div");
        placeholder.className = "sin-imagen";
        placeholder.textContent = "Sin imagen";

        let intento = 0;
        img.onerror = () => {
            if (intento === 0) {
                img.src = urlUpper;
                intento++;
            } else {
                img.style.display = "none";
                placeholder.style.display = "flex";
            }
        };

        contImg.appendChild(img);
        contImg.appendChild(placeholder);

        const titulo = document.createElement("strong");
        titulo.textContent = `${codigo} - ${nombreCorto}`;

        const desc = document.createElement("div");
        desc.className = "descripcion";
        desc.textContent = descCorta;

        const precio = document.createElement("div");
        precio.className = "precio";
        precio.textContent = precioUsado != null
            ? `$ ${precioUsado.toLocaleString("es-AR", { minimumFractionDigits: 0 })}`
            : "$ Consultar";

        // Armado final
        card.appendChild(contImg);
        card.appendChild(titulo);
        card.appendChild(desc);
        card.appendChild(precio);

        grid.appendChild(card);
    });
}

